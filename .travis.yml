---
matrix:
  include:
    - language: python
      sudo: required
      services:
      - docker
      script:
      - cd database
      - docker build -t mysql_sportify .
    
    - language: node_js
      arch:
        - amd64
        - arm64
      os: linux
      node_js:
        - 10
      cache:
        yarn: true
        directories:
          - node_modules
      before_install:
        - cd frontend
      script:
        - yarn build

    - language: node_js
      arch:
        - amd64
        - arm64
      os: linux
      node_js:
        - 10
      cache:
        yarn: true
        directories:
          - node_modules
      before_install:
        - cd backend
      script:
        - yarn build
